{
  "within": "Buildings.Fluid.HeatExchangers",
  "class_definition": [
    {
      "class_prefixes": "model",
      "class_specifier": {
        "long_class_specifier": {
          "identifier": "WetCoilCounterFlow",
          "description_string": "Counterflow coil with discretization along the flow paths and humidity condensation",
          "composition": {
            "element_list": [
              {
                "extends_clause": {
                  "name": "Buildings.Fluid.HeatExchangers.DryCoilCounterFlow",
                  "class_modification": [
                    {
                      "element_redeclaration": {
                        "element_replaceable": {
                          "short_class_definition": {
                            "class_prefixes": "package",
                            "short_class_specifier": {
                              "identifier": "Medium2",
                              "value": {
                                "name": "Modelica.Media.Interfaces.PartialCondensingGases"
                              }
                            }
                          }
                        }
                      }
                    },
                    {
                      "element_redeclaration": {
                        "short_class_definition": {
                          "class_prefixes": "model",
                          "short_class_specifier": {
                            "identifier": "HexElement",
                            "value": {
                              "name": "Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent",
                              "class_modification": [
                                {
                                  "element_modification_or_replaceable": {
                                    "element_modification": {
                                      "name": "simplify_mWat_flow",
                                      "modification": {
                                        "equal": true,
                                        "expression": {
                                          "simple_expression": "simplify_mWat_flow"
                                        }
                                      }
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              },
              {
                "component_clause": {
                  "type_prefix": "constant",
                  "type_specifier": "Boolean",
                  "component_list": [
                    {
                      "declaration": {
                        "identifier": "simplify_mWat_flow",
                        "modification": {
                          "equal": true,
                          "expression": {
                            "simple_expression": "true"
                          }
                        }
                      },
                      "description": {
                        "description_string": "Set to true to cause port_a.m_flow + port_b.m_flow = 0 even if mWat_flow is non-zero. Used only if Medium.nX > 1",
                        "annotation": [
                          {
                            "element_modification_or_replaceable": {
                              "element_modification": {
                                "name": "HideResult",
                                "modification": {
                                  "equal": true,
                                  "expression": {
                                    "simple_expression": "true"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "component_clause": {
                  "type_specifier": "Modelica.Units.SI.HeatFlowRate",
                  "component_list": [
                    {
                      "declaration": {
                        "identifier": "QSen2_flow",
                        "modification": {
                          "equal": true,
                          "expression": {
                            "simple_expression": "Q2_flow -QLat2_flow"
                          }
                        }
                      },
                      "description": {
                        "description_string": "Sensible heat input into air stream (negative if air is cooled)"
                      }
                    }
                  ]
                }
              },
              {
                "component_clause": {
                  "type_specifier": "Modelica.Units.SI.HeatFlowRate",
                  "component_list": [
                    {
                      "declaration": {
                        "identifier": "QLat2_flow",
                        "modification": {
                          "equal": true,
                          "expression": {
                            "simple_expression": "Buildings.Utilities.Psychrometrics.Constants.h_fg*mWat_flow"
                          }
                        }
                      },
                      "description": {
                        "description_string": "Latent heat input into air (negative if air is dehumidified)"
                      }
                    }
                  ]
                }
              },
              {
                "component_clause": {
                  "type_specifier": "Real",
                  "component_list": [
                    {
                      "declaration": {
                        "identifier": "SHR",
                        "modification": {
                          "class_modification": [
                            {
                              "element_modification_or_replaceable": {
                                "element_modification": {
                                  "name": "min",
                                  "modification": {
                                    "equal": true,
                                    "expression": {
                                      "simple_expression": "0"
                                    }
                                  }
                                }
                              }
                            },
                            {
                              "element_modification_or_replaceable": {
                                "element_modification": {
                                  "name": "max",
                                  "modification": {
                                    "equal": true,
                                    "expression": {
                                      "simple_expression": "1"
                                    }
                                  }
                                }
                              }
                            },
                            {
                              "element_modification_or_replaceable": {
                                "element_modification": {
                                  "name": "unit",
                                  "modification": {
                                    "equal": true,
                                    "expression": {
                                      "simple_expression": "\"1\""
                                    }
                                  }
                                }
                              }
                            }
                          ],
                          "equal": true,
                          "expression": {
                            "simple_expression": "QSen2_flow/noEvent(if ([object Object]) then Q2_flow else 1)"
                          }
                        }
                      },
                      "description": {
                        "description_string": "Sensible to total heat ratio"
                      }
                    }
                  ]
                }
              },
              {
                "component_clause": {
                  "type_specifier": "Modelica.Units.SI.MassFlowRate",
                  "component_list": [
                    {
                      "declaration": {
                        "identifier": "mWat_flow",
                        "modification": {
                          "equal": true,
                          "expression": {
                            "simple_expression": {
                              "function_call": {
                                "name": "sum",
                                "arguments": [
                                  {
                                    "expression": {
                                      "simple_expression": "ele[i].vol2.mWat_flow"
                                    },
                                    "for_loop": [
                                      {
                                        "name": "i",
                                        "range": "1:nEle"
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      "description": {
                        "description_string": "Water flow rate"
                      }
                    }
                  ]
                }
              }
            ],
            "annotation": [
              {
                "element_modification_or_replaceable": {
                  "element_modification": {
                    "name": "defaultComponentName",
                    "modification": {
                      "equal": true,
                      "expression": {
                        "simple_expression": "\"cooCoi\""
                      }
                    }
                  }
                }
              },
              {
                "element_modification_or_replaceable": {
                  "element_modification": {
                    "name": "Documentation",
                    "modification": {
                      "class_modification": [
                        {
                          "element_modification_or_replaceable": {
                            "element_modification": {
                              "name": "info",
                              "modification": {
                                "equal": true,
                                "expression": {
                                  "simple_expression": "\"<html>\n<p>\nModel of a discretized coil with water vapor condensation.\nThe coil consists of two flow paths which are, at the design flow direction,\nin opposite direction to model a counterflow heat exchanger.\nThe flow paths are discretized into <code>nEle</code> elements.\nEach element is modeled by an instance of\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>.\nEach element has a state variable for the metal.\n</p>\n<p>\nThe convective heat transfer coefficients can, for each fluid individually, be\ncomputed as a function of the flow rate and/or the temperature,\nor assigned to a constant. This computation is done using an instance of\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HADryCoil</a>.\n</p>\n<p>\nIn this model, the water (or liquid) flow path\nneeds to be connected to <code>port_a1</code> and <code>port_b1</code>, and\nthe air flow path needs to be connected to the other two ports.\n</p>\n<p>\nThe mass transfer from the fluid 2 to the metal is computed using a similarity law between\nheat and mass transfer, as implemented by the model\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.MassExchange</a>.\n</p>\n<p>\nThis model can only be used with medium models that\nimplement the function <code>enthalpyOfLiquid</code> and that contain\nan integer variable <code>Water</code> whose value is the element number where\nthe water vapor is stored in the species concentration vector. Examples for\nsuch media are\n<a href=\\\"modelica://Buildings.Media.Air\\\">\nBuildings.Media.Air</a> and\n<a href=\\\"modelica://Modelica.Media.Air.MoistAir\\\">\nModelica.Media.Air.MoistAir</a>.\n</p>\n<p>\nTo model this coil for conditions without humidity condensation, use the model\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.DryCoilCounterFlow\\\">\nBuildings.Fluid.HeatExchangers.DryCoilCounterFlow</a> instead of this model.\n</p>\n</html>\""
                                }
                              }
                            }
                          }
                        },
                        {
                          "element_modification_or_replaceable": {
                            "element_modification": {
                              "name": "revisions",
                              "modification": {
                                "equal": true,
                                "expression": {
                                  "simple_expression": "\"<html>\n<ul>\n<li>\nJuly 5, 2022, by Antoine Gautier:<br/>\nRestored the addition of heat to <code>mas.T</code> in\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/3065\\\">#3065</a>.\n</li>\n<li>\nMay 26, 2022, by Michael Wetter:<br/>\nRemoved addition of heat to <code>mas.T</code> in\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>\nto correct latent heat exchange calculation.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/3027\\\">#3027</a>.\n</li>\n<li>\nMarch 12, 2021, by Michael Wetter:<br/>\nRemoved <code>final</code> declaration in redeclaration.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/2392\\\">#2392</a>.\n</li>\n<li>\nMay 1, 2020, by Michael Wetter:<br/>\nAdded constant <code>simplify_mWat_flow</code>.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/1920\\\">#1920</a>.\n</li>\n<li>\nOctober 19, 2018, by Kino:<br/>\nChanged model to use a replaceable model as this allows translation in OpenModelica.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/1258\\\">#1258</a>.\n</li>\n<li>\nApril 14, 2017, by David Blum:<br/>\nAdded heat of condensation to coil surface heat balance\nand removed it from the air stream.\nThis gives higher coil surface temperature and avoids\noverestimating the latent heat ratio that was\nobserved in the previous implementation.\nThe code change was in\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>.<br/>\nThis is for <a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/711\\\">#711</a>.\n</li>\n<li>\nApril 11, 2017, by Michael Wetter:<br/>\nChanged computation of <code>QLat_flow</code> to be consistent with\nhow it is computed in\n<a href=\\\"modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent\\\">\nBuildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>.<br/>\nMoved variable assignments out of equation section to avoid mixing\ntextual and graphical modeling in equation section.\n</li>\n<li>\nNovember 8, 2016, by Michael Wetter:<br/>\nRemoved wrong usage of <code>each</code> keyword.\n</li>\n<li>\nJuly 29, 2016, by Michael Wetter:<br/>\nRedeclared <code>Medium2</code> to be <code>Modelica.Media.Interfaces.PartialCondensingGases</code>\nbecause it is used in <code>vol2</code> and because\nthe model calls <code>Medium2.enthalpyOfCondensingGas</code>,\nwhich requires the medium to extend\nfrom this subclass.<br/>\nThis is for\n<a href=\\\"https://github.com/lbl-srg/modelica-buildings/issues/547\\\">\nissue 547</a>.\n</li>\n<li>\nFebruary 2, 2012, by Michael Wetter:<br/>\nCorrected error in assignment of <code>dp2_nominal</code> in the base class.\nThe previous assignment caused a pressure drop in all except one element,\ninstead of the opposite. This caused too high a flow resistance\nof the heat exchanger.\n</li>\n<li>\nMay 27, 2010, by Michael Wetter:<br/>\nFirst implementation.\n</li>\n</ul>\n</html>\""
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              {
                "element_modification_or_replaceable": {
                  "element_modification": {
                    "name": "Icon",
                    "modification": {
                      "class_modification": [
                        {
                          "element_modification_or_replaceable": {
                            "element_modification": {
                              "coordinateSystem": {
                                "extent": [
                                  {
                                    "x": -100,
                                    "y": -100
                                  },
                                  {
                                    "x": 100,
                                    "y": 100
                                  }
                                ],
                                "preserveAspectRatio": "false"
                              }
                            }
                          }
                        },
                        {
                          "element_modification_or_replaceable": {
                            "element_modification": {
                              "graphics": [
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": -70,
                                        "y": 80
                                      },
                                      {
                                        "x": 70,
                                        "y": -80
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 95,
                                      "g": 95,
                                      "b": 95
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                },
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": 36,
                                        "y": 80
                                      },
                                      {
                                        "x": 40,
                                        "y": -80
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 0
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                },
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": -40,
                                        "y": 80
                                      },
                                      {
                                        "x": -36,
                                        "y": -80
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 0
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                },
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": -2,
                                        "y": 80
                                      },
                                      {
                                        "x": 2,
                                        "y": -80
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 0
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                },
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": -100,
                                        "y": -55
                                      },
                                      {
                                        "x": 101,
                                        "y": -65
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 0,
                                      "g": 127,
                                      "b": 0
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                },
                                {
                                  "name": "Rectangle",
                                  "attribute": {
                                    "extent": [
                                      {
                                        "x": -98,
                                        "y": 65
                                      },
                                      {
                                        "x": 103,
                                        "y": 55
                                      }
                                    ],
                                    "lineColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "fillColor": {
                                      "r": 0,
                                      "g": 0,
                                      "b": 255
                                    },
                                    "pattern": "LinePattern.None",
                                    "fillPattern": "FillPattern.Solid"
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              {
                "element_modification_or_replaceable": {
                  "element_modification": {
                    "name": "Diagram",
                    "modification": {
                      "class_modification": [
                        {
                          "element_modification_or_replaceable": {
                            "element_modification": {
                              "coordinateSystem": {
                                "extent": [
                                  {
                                    "x": -100,
                                    "y": -100
                                  },
                                  {
                                    "x": 100,
                                    "y": 100
                                  }
                                ],
                                "preserveAspectRatio": "true",
                                "initialScale": 0.5
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            ]
          }
        }
      }
    }
  ],
  "modelicaFile": "Buildings/Fluid/HeatExchangers/WetCoilCounterFlow.mo",
  "fullMoFilePath": "/Users/akprakash/Programming/modelica/modelica-buildings/Buildings/Fluid/HeatExchangers/WetCoilCounterFlow.mo",
  "checksum": "543d3bedf7c1ef4fd4784da08995eb39"
}